import{A as h}from"./AdminLayout-DeK7txAy.js";import{i as m,N}from"./index.esm-CfwEPXxf.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as v,o as s,w as n,a as e,e as l,f as i,i as p,t as o,u as f,j as g,F as C,g as _}from"./app-BbnEZDzL.js";const x={key:0,class:"alert alert-success mb-4"},$={key:1,class:"alert alert-danger mb-4"},y={class:"table-responsive"},A={class:"table table-striped table-hover"},E=["onClick"],B={key:0},I={__name:"CategoriesIndex",props:{categories:Array},setup(u){const b=r=>{confirm(`Tem certeza que deseja excluir a categoria "${r.name}"? As subcategorias se tornarão categorias principais.`)&&N.delete(route("categories.destroy",{category:r.id}),{preserveScroll:!0,onError:t=>{console.error("Erro ao excluir:",t),alert("Ocorreu um erro ao excluir a categoria.")}})};return(r,t)=>(s(),v(h,null,{default:n(()=>{var d,c;return[t[4]||(t[4]=e("h2",null,"Categorias",-1)),(d=r.$page.props.flash)!=null&&d.success?(s(),l("div",x,o(r.$page.props.flash.success),1)):i("",!0),(c=r.$page.props.flash)!=null&&c.error?(s(),l("div",$,o(r.$page.props.flash.error),1)):i("",!0),p(f(m),{href:r.route("categories.create"),class:"btn btn-primary mb-3 btn-new-category"},{default:n(()=>t[0]||(t[0]=[g(" Nova Categoria ")])),_:1},8,["href"]),e("div",y,[e("table",A,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Nome"),e("th",null,"Slug"),e("th",null,"Categoria Pai"),e("th",null,"Ações")])],-1)),e("tbody",null,[(s(!0),l(C,null,_(u.categories,a=>(s(),l("tr",{key:a.id},[e("td",null,o(a.id),1),e("td",null,o(a.name),1),e("td",null,o(a.slug),1),e("td",null,o(a.parent?a.parent.name:"Nenhuma"),1),e("td",null,[p(f(m),{href:r.route("categories.edit",{category:a.id}),class:"btn btn-sm btn-info me-2"},{default:n(()=>t[1]||(t[1]=[g(" Editar ")])),_:2},1032,["href"]),e("button",{onClick:V=>b(a),class:"btn btn-sm btn-danger"}," Excluir ",8,E)])]))),128)),u.categories.length===0?(s(),l("tr",B,t[2]||(t[2]=[e("td",{colspan:"5",class:"text-center"},"Nenhuma categoria encontrada.",-1)]))):i("",!0)])])])]}),_:1}))}},F=k(I,[["__scopeId","data-v-3eddfb6f"]]);export{F as default};
