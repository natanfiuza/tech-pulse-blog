import{r as g,c as C,o as l,w as _,a as e,j as k,f as b,b as f,g as c,v,t as u,e as E,l as w,d as V}from"./app-CmqKmvzD.js";import{A as M}from"./AdminLayout-DRLDVG6i.js";import{M as A}from"./MarkdownEditor-B8cAvxwh.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={components:{AdminLayout:M,MarkdownEditor:A},props:{post:Object},setup(i){var d,m,r;const o=w(((d=i.post)==null?void 0:d.content)||""),s=V.useForm({title:((m=i.post)==null?void 0:m.title)||"",excerpt:((r=i.post)==null?void 0:r.excerpt)||"",image:null});function t(){let n=null;try{const a=new TextEncoder().encode(o.value),y=String.fromCharCode(...a);n=btoa(y)}catch(a){console.error("Erro ao codificar conteúdo:",a),s.setError("content","Não foi possível codificar o conteúdo para envio.");return}s.transform(a=>({...a,content:n})).put(route("posts.update",{uuid:i.post.uuid}))}function p(n){s.image=n.target.files[0]}return{form:s,submit:t,onFileChange:p,originalContent:o,updateOriginalContent:n=>{o.value=n}}}},N={class:"mt-4 form-group"},O={key:0},S={class:"mt-3 form-group"},U={key:0},L={class:"mt-3 form-group"},T={key:0},h={class:"mt-3 form-group"},j={key:0},z=["disabled"];function D(i,o,s,t,p,x){const d=g("MarkdownEditor"),m=g("AdminLayout");return l(),C(m,null,{default:_(()=>[o[8]||(o[8]=e("h1",null,"Editar Post",-1)),e("form",{onSubmit:o[3]||(o[3]=k((...r)=>t.submit&&t.submit(...r),["prevent"])),enctype:"multipart/form-data"},[e("div",N,[o[4]||(o[4]=e("label",{for:"title"},"Título:",-1)),b(e("input",{id:"title","onUpdate:modelValue":o[0]||(o[0]=r=>t.form.title=r),class:"form-control",type:"text"},null,512),[[v,t.form.title]]),t.form.errors.title?(l(),f("div",O,u(t.form.errors.title),1)):c("",!0)]),e("div",S,[o[5]||(o[5]=e("label",{for:"content"},"Conteúdo:",-1)),E(d,{modelValue:t.originalContent,"onUpdate:modelValue":t.updateOriginalContent},null,8,["modelValue","onUpdate:modelValue"]),t.form.errors.content?(l(),f("div",U,u(t.form.errors.content),1)):c("",!0)]),e("div",L,[o[6]||(o[6]=e("label",{for:"excerpt"},"Resumo:",-1)),b(e("textarea",{id:"excerpt","onUpdate:modelValue":o[1]||(o[1]=r=>t.form.excerpt=r),rows:"5",class:"form-control"},null,512),[[v,t.form.excerpt]]),t.form.errors.excerpt?(l(),f("div",T,u(t.form.errors.excerpt),1)):c("",!0)]),e("div",h,[o[7]||(o[7]=e("label",{for:"image"},"Imagem:",-1)),e("input",{id:"image",type:"file",onChange:o[2]||(o[2]=(...r)=>t.onFileChange&&t.onFileChange(...r)),class:"form-control"},null,32),t.form.errors.image?(l(),f("div",j,u(t.form.errors.image),1)):c("",!0)]),e("button",{type:"submit",class:"btn btn-primary mt-4 btn-atualizar",disabled:t.form.processing}," Atualizar ",8,z)],32)]),_:1})}const G=B(F,[["render",D],["__scopeId","data-v-34c2964d"]]);export{G as default};
